.equ	FULL_CIRCLE = 70693	; Drive tics per day
.equ	HALF_CIRCLE = FULL_CIRCLE / 2
.equ	HALL_OFFSET = FULL_CIRCLE / (24*60*2/3)
.equ	MIN_SPAN = FULL_CIRCLE / 24 * 5
.equ	MAX_SPAN = FULL_CIRCLE / 24 * 15
.equ	END_POS_GAP = 150

.equ	MAX_POS_DIFF_MIN = 4	; Maximum panel position offset from target (minutes)
.equ	MAX_POS_DIFF = MAX_POS_DIFF_MIN * FULL_CIRCLE / (24 * 60) ; ... drive tics

.equ	JAM_PATH = 7		; Tics for jam detection
.equ	JAM_INIT_PATH = 18	; Tics for jam detection (from start)

.equ	PWM_PERIOD = 1600	; f = 8e6 / 1600 = 5000Hz
.equ	PWM_MIN_PULSE = 24

.equ	FULL_SECOND = 62500
.equ	SECOND_FRACTION = 4096

; Передаточное отношение
; шестерни	(99/14)^2
; ремень	2000*pi/(20*8)
; полное	1963.6957651679568577916050892553
; переключения датчиков	6*6=36
; тактов на сутки по датчикам 70693.047546046446880497783213189
; за секунду	0.81820656881998202407983545385636
; секунд в такте 1.2221852501651270841046084651024
;		24bit == 20504865.934034372757473182814452
;		24bit == 20504866
; за минуту	49.09239412919892144479012723136
; минут в такте 0.020369754169418784735076807751716
;		24bit == 341747.76556723954595788638024101
;		24bit == 341748
; полный оборот (сутки) = 24*60 = 1440 мин
; основной цикл 3906.25
; за один такт механизма натикает 3906.25*1.2221852501651270841046084651024
;					= 4774.1611334575276722836268168047
; за 25 тактов 59677.01416821909590354533521005 = 59677 (e=2.374E-7)
; поэтому считаем в основном цикле 59677 тиков и перемещаем солнце на 25 тактов
;  (15.277312 секунд)
